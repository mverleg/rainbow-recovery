
server {
  listen 80;
  server_name _;
  root /usr/share/nginx/html;
  index index.html;

  # Performance basics
  sendfile on;
  etag on;

  # Gzip for text assets (safe defaults)
  gzip on;
  gzip_comp_level 6;
  gzip_min_length 1024;
  gzip_vary on;
  gzip_types
    text/plain text/css text/javascript application/javascript application/x-javascript
    application/json application/manifest+json application/xml
    application/rss+xml image/svg+xml;

  # Cache EVERYTHING we serve for 1 hour (HTML/CSS/JS/images/fonts/etc.)
  # Also mark as immutable to let browsers skip revalidation during the window.
  location / {
    try_files $uri $uri/ =404;
    expires 1h;
    add_header Cache-Control "public, max-age=3600, immutable";
  }
}
